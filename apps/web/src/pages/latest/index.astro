---
import Layout from "../../layouts/Layout.astro";
import LatestGridWrapper from "../../components/LatestGrid";

const baseUrl = "/api";
const cdn = process.env.PUBLIC_CDN_URL || "http://localhost:8787";

const deviceParam = Astro.url.searchParams.get("device");
const currentDevice = deviceParam === "mobile" ? "mobile" : "desktop";
---

<Layout title="Latest Screenshots">
  <LatestGridWrapper
    client:load
    device={currentDevice}
    baseUrl={baseUrl}
    cdn={cdn}
  >
    <div slot="fallback" class="flex justify-center py-20">
      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600">
      </div>
    </div>
  </LatestGridWrapper>
</Layout>
